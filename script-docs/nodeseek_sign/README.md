# NodeSeek 自动签到脚本

## 📋 脚本简介

这是一个专为 **NodeSeek 论坛** 开发的青龙面板自动签到脚本。  
支持 **随机鸡腿签到（推荐）** 和 **固定签到** 模式，内置高度拟真的浏览器指纹模拟，可有效规避 **Cloudflare 403 盾牌拦截**。

---

## ⚙️ 环境变量配置（核心）

### 1. NODESEEK_COOKIE（必需）

这是脚本运行的 **核心凭证**。

#### 📥 如何获取 Cookie

1. 使用浏览器（建议 **Edge 或 Chrome**）访问 NodeSeek 并登录  
2. 按 **F12** 打开开发者工具  
3. 切换到 **Network（网络）** 标签页  
4. 刷新页面，点击列表中任意一个请求（如 `board` 或 `attendance`）  
5. 在右侧面板的 **Request Headers（请求头）** 中找到 `Cookie`  
6. 复制 `Cookie:` 后面的全部内容  
   （通常包含 `session=...; cf_clearance=...;` 等字段）

---

#### 📝 单账号配置

直接将复制的 Cookie 字符串填入环境变量值即可。

---

#### 👨‍👩‍👧‍👦 多账号配置（重点）

脚本支持 **无限多账号**，请使用 **换行符（Enter）** 或 **& 符号** 分隔。

**方法 A：青龙面板网页端（推荐）**

在环境变量值中，填完第一个 Cookie 后直接回车，再粘贴下一个：

session=user1...; cf_clearance=...  
session=user2...; cf_clearance=...

**方法 B：使用 & 连接**

session=user1...; cf_clearance=...&session=user2...; cf_clearance=...

---

### 2. NODESEEK_SIGN_TYPE（可选）

用于控制签到模式。

| 值 | 说明 | 备注 |
|----|------|------|
| random | 随机鸡腿（默认） | 奖励有波动，有机会获得更多鸡腿（推荐） |
| fixed | 固定签到 | 奖励固定，惊喜较少 |

---

### 3. NODESEEK_USER_AGENT（可选但重要）

⚠️ **防止 403 错误的关键参数！**

NodeSeek 的 Cloudflare 防护会校验 **Cookie 与 User-Agent 是否匹配**。  
如果脚本提示 **403**，请务必设置此变量。

**获取方法**：  
在开发者工具的 **Request Headers** 中找到 `User-Agent` 并复制。

- 默认值：脚本内置较新的 Chrome / Edge UA  
- 推荐做法：使用你抓包时的 **真实 UA**

---

## 📦 安装与依赖

### 1. 安装依赖

脚本依赖 `axios` 发送请求。  
在 **青龙面板 → 依赖管理 → NodeJs** 中安装：

axios

---

### 2. 添加脚本

将 `nodeseek_sign.js` 上传至 **青龙面板脚本目录**。

---

### 3. 定时任务

建议 **每天执行一次**。  
由于 Cookie 可能过期，推荐设置在 **早上**：

10 0 * * * task nodeseek_sign.js

---

## ❓ 常见问题（FAQ）

### Q1：运行提示「HTTP 403 Cloudflare 盾拦截」？

**原因**：  
- Cookie 与 User-Agent 不匹配  
- IP 地址变动导致 `cf_clearance` 失效  

**解决方法**：  
1. 设置 `NODESEEK_USER_AGENT`，填写抓包时的浏览器 UA  
2. 确保抓包的 IP 与青龙面板运行的 IP 尽量一致  
3. 在浏览器中重新刷新页面，获取最新的 `cf_clearance`

---

### Q2：运行提示「HTTP 500」？

**说明**：  
NodeSeek 在 **重复签到** 时可能返回 500。

**无需担心**：  
脚本已内置智能判断，只要返回内容包含「已完成签到」，即视为 **签到成功**。

---

## 📊 运行日志示例

[2025/1/27 10:00:00] 🚀 NodeSeek 自动签到脚本开始执行  
[2025/1/27 10:00:00] 📝 检测到 2 个账号  
[2025/1/27 10:00:00] 🎯 签到模式: 随机鸡腿 (推荐)  
[2025/1/27 10:00:01] ⏳ [账号1] 开始第 1 次尝试签到 (随机鸡腿)...  
[2025/1/27 10:00:02] ✅ [账号1] 签到成功: 获得 5 鸡腿  
[2025/1/27 10:00:05] ⏳ [账号2] 开始第 1 次尝试签到 (随机鸡腿)...  
[2025/1/27 10:00:06] 🔵 [账号2] 今日已签到: 今天已完成签到，请勿重复操作

