# DeepFlood 自动签到脚本

## 📋 脚本简介

这是一个专为 **DeepFlood 论坛** 开发的自动签到脚本。  
支持 **固定签到（默认）** 和 **随机签到** 模式切换。  
脚本模拟真实浏览器请求头，支持 **多账号批量运行**。

---

## ⚙️ 环境变量配置（核心）

### 1. DEEPFLOOD_COOKIE（必需）

这是脚本运行的 **核心凭证**。

#### 📥 如何获取 Cookie

1. 使用浏览器访问 **DeepFlood** 并登录  
2. 按 **F12** 打开开发者工具  
3. 切换到 **Network（网络）** 标签页  
4. 点击页面上的签到按钮，或直接刷新页面  
5. 在网络请求中找到 `attendance` 或 `sw.js` 等请求  
6. 在 **Request Headers** 中复制 **Cookie** 的完整内容  

---

#### 📝 单账号配置

直接填入一条 Cookie 字符串即可。

---

#### 👨‍👩‍👧‍👦 多账号配置（重点）

支持多个账号同时签到，请使用 **换行符** 或 **&** 分隔。

示例（青龙面板中）：

session=user1_hash...; smac=...  
session=user2_hash...; smac=...  
session=user3_hash...; smac=...

---

### 2. DEEPFLOOD_SIGN_TYPE（可选）

用于控制签到模式。

| 值 | 说明 | 备注 |
|----|------|------|
| fixed | 固定签到（默认） | 收益稳定，通常为固定数值 |
| random | 随机签到 | 收益有波动，可能获得更高奖励 |

---

### 3. DEEPFLOOD_USER_AGENT（可选）

建议设置为 **抓包时的浏览器 User-Agent**，  
用于保持请求一致性，降低被识别为机器人的风险。

---

### 4. DEEPFLOOD_HEADERS（高级 / 可选）

如果遇到 **签名错误（Refract Error）** 或 **特殊校验**，  
可通过此变量传入自定义 Headers。

- 格式：JSON 字符串  
- 示例：

{"refract-key":"xxx","refract-sign":"xxx"}

---

## 📦 安装与依赖

### 1. 安装依赖

需要安装 `axios` 模块：

npm install axios

---

### 2. 添加脚本

将 `deepflood_sign.js` 上传至 **青龙面板脚本目录**。

---

### 3. 定时任务

建议设置在 **每天凌晨**，避开高峰期：

5 0 * * * task deepflood_sign.js

---

## 📊 运行日志示例

[2025/1/27 12:00:00] 🚀 DeepFlood 自动签到脚本开始执行  
[2025/1/27 12:00:00] 📝 检测到 1 个账号  
[2025/1/27 12:00:00] 🎯 签到模式: 固定签到 (默认)  
[2025/1/27 12:00:01] ⏳ [账号1] 开始第 1 次尝试签到 (固定签到)...  
[2025/1/27 12:00:02] ✅ [账号1] 签到成功: 今天的签到收益是 5 个鸡腿

